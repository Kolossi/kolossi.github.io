define("plugins/musicfavourite/adapter/favouriteItemsCache",["jquery-1.9","personalisation/model/map","exports"],function(e,i,t){"use strict";function a(e,i){var t=new Error;return t.name="ServiceError",t.eventDescriptor="service",t.xhr=e,t.status=e&&e.status,t.response=e&&e.responseText&&JSON.parse(e.responseText).message,t.message=t.status+" "+i,t}var n={};return t=function(e,i){var t=this;t._requestUrl=e,t._lifetime=i,t._cachedData=void 0,t._updatePromise=void 0},t.prototype.get=function(){var i=this;return i._cachedData?e.Deferred().resolve(i._cachedData):i._updatePromise?i._updatePromise:i.update()},t.prototype.update=function(){var t=this,n=e.ajax({method:"GET",url:t._requestUrl,headers:{"Cache-control":"max-age=10"},contentType:"application/json",dataType:"jsonp"}).then(function(e){return t._lifetime&&setTimeout(function(){t._updatePromise=void 0,t._cachedData=void 0},t._lifetime),t._cachedData=e&&new i(e),t._cachedData}).fail(function(e,i,n){return t._updatePromise=void 0,t._cachedData=void 0,a(e,n)});return t._updatePromise=n,n},t.prototype.canAdd=function(e){if(this._cachedData){var i=e.type,t=n[i];if(t){var a=this._cachedData.filter(function(e){return e.type==i});if(a.length&&a.length>=t)return!1}}return!0},t.prototype.add=function(e){this._cachedData&&this._cachedData.addAll(e)},t.prototype.remove=function(e){this._cachedData&&this._cachedData.remove(e)},t}),define("plugins/musicfavourite/adapter/favouriteApi",["jquery-1.9","./favouriteItemsCache","personalisation/user","personalisation/model/map"],function(e,i,t,a,n){"use strict";function o(){return function(){return{id:this.id,type:this.type,title:this.title,appId:this.appId,product:this.product,platform:this.platform,contextId:this.contextId,contextType:this.contextType,playlistType:this.playlistType,postedTime:this.postedTime}}}function r(e){return Array.isArray(e)?e.forEach(function(e){e.toJSON=o()}):e.toJSON=o(),JSON.stringify(e)}function s(e,i){var t=new Error;return t.name="ServiceError",t.eventDescriptor="service",t.xhr=e,t.status=e&&e.status,t.response=e&&e.responseText&&JSON.parse(e.responseText).message,t.message=t.status+" "+i,t.message&&"User limit of favourites reached"===t.message?v.LimitReached:t}function d(e){e||console.error("DEPRECATED: No callback supplied to getAllItems()"),m.get().then(function(i){e&&e(i)})}function u(i,t){t||console.error("DEPRECATED: No callback supplied to getItem()");var n=i.id,o="playlist"===i.type&&"PRESENTER_PLAYLIST"===i.playlistType?"presenter":i.type,r=e.ajax({method:"GET",url:"/modules/plugin/musicfavourite/my/favourites/"+o+"/"+n,contentType:"application/json",dataType:"jsonp"});r.done(function(e){var i=e&&new a(e);t&&t(i)}),r.fail(function(e,i,a){var n=s(e,a);if(!t)throw n;t(n)})}function l(i,t){if(t||console.error("DEPRECATED: No callback supplied to addItem()"),!m.canAdd(i)){if(t)return void t(v.LimitReached);throw v.LimitReached}var a=e.ajax({method:"POST",url:"/modules/plugin/musicfavourite/my/favourites/add",contentType:"application/json",data:r(i)});a.done(function(e){m.add(e),t&&t(e)}),a.fail(function(e,i,a){var n=s(e,a);if(!t)throw n;t(n)})}function c(i,t){t||console.error("DEPRECATED: No callback supplied to removeItem()");var a=e.ajax({method:"POST",url:"/modules/plugin/musicfavourite/my/favourites/remove",contentType:"application/json",data:r(i)});a.done(function(e){m.remove(e),t&&t(e)}),a.fail(function(e,i,a){var n=s(e,a);if(!t)throw n;t(n)})}var g=6e4,m=new i("/modules/plugin/musicfavourite/my/favourites",g);n={get:function(e){if(t.isSignedIn())d(e);else{var i=new a;e&&e(i)}},isFavourited:function(e,i){if(t.isSignedIn())u(e,i);else{var n=new a;i&&i(n)}},add:function(e,i){t.isSignedIn()?l(e,i):t.signIn(e,function(t){if(t instanceof Error){if(!i)throw t;i(t)}else l(e,i)})},remove:function(e,i){t.isSignedIn()?c(e,i):t.signIn(e,function(t){if(t instanceof Error){if(!i)throw t;i(t)}else c(e,i)})},setCache:function(e){m=e},setUserModule:function(e){t=e},setMapModule:function(e){a=e}};var v={ServiceError:new Error("Call to favourites API failed"),LimitReached:new Error("Maximum number of favourites of this type has been reached"),SignInCancelled:new Error("BBC iD sign in was cancelled")};return v.ServiceError.name="ServiceError",v.LimitReached.name="LimitReached",v.SignInCancelled.name="ps_SigninCancelled",n.errors=v,n}),define("plugins/musicfavourite/adapter/personalisation",["personalisation/favourite","./favouriteApi"],function(e,i,t){"use strict";function a(e){return e&&e.type&&"artist"===e.type}function n(e){return e&&e.type&&"playlist"===e.type}function o(e){return e&&e.type&&"track"===e.type.substring(0,5)}function r(e){return e&&e.type&&("programme"===e.type||"tlec"===e.type)}function s(e){var i=Array.isArray(e)?e[0]:e;return a(i)||n(i)||o(i)||r(i)}function d(t,a){return s(t)?i.get(a):e.get(a)}function u(t,a){return s(t)?i.add(t,a):e.add(t,a)}function l(t,a){return s(t)?i.remove(t,a):e.remove(t,a)}function c(e){var i=e,t=e.indexOf("#");return t>0&&(i=e.substring(0,t)),i}function g(e,i,t){var a;if("undefined"==typeof i)return!1;if(a=i.find(e)||void 0,a&&(a=e),!a&&o(e)){var n=e.title.toLowerCase(),r=c(e.id);i.each(function(i){o(i)&&n==i.title.toLowerCase()?a=i:!o(i)||r!=c(i.id)||"track"!=e.type&&"track_chart"!=e.type&&"track_playlist"!=e.type&&"track_event"!=e.type&&"track_guide"!=e.type&&"track_offset"!=e.type||(a=i)})}return t&&t(a,i)||a}t={isFavourited:function(e,i){if("function"!=typeof i)try{return!!g(e,d(e))}catch(t){return void 0}d(e,function(t){i(t instanceof Error?void 0:!!g(e,t))})},add:function(e,i){u(e,function(a){var n;a instanceof Error?n="ps_SigninCancelled"===a.name?t.errors.SignInCancelled:"LimitReached"===a.name?t.errors.LimitReached:a:a&&(n=e),i(n)})},remove:function(e,i){d(e,function(t){g(e,t,function(e){l(e,i)})})},parseItem:function(i){return e.parseItem(i)},isSignedIn:function(i){return e.user.isSignedIn(i)},setModule:function(i){e=i}};var m={LimitReached:new Error("Maximum number of Favourites of this type has been reached"),SignInCancelled:new Error("BBC iD Sign in was cancelled")};return m.LimitReached.name="Favourites_LimitReached",m.SignInCancelled.name="Favourites_SignInCancelled",t.errors=m,t}),define("plugins/musicfavourite/events",["personalisation/vendor","exports"],function(e,i){return i=new e.pubsub}),define("plugins/musicfavourite/ui/dom",["personalisation/vendor"],function(e){return{on:function(i,t,a){return e.bean.on(i,t,a)},off:function(i,t){return t?e.bean.off(i,t):e.bean.off(i)},empty:function(i){return e.bonzo(i).empty()},findElement:function(i,t){return i=i||null,t=t||null,e.qwery(i,t)},parseData:function(i){return e.bonzo(i).data()},addClass:function(i,t){return e.bonzo(i).addClass(t)},removeClass:function(i,t){return e.bonzo(i).removeClass(t)},hasClass:function(i,t){return e.bonzo(i).hasClass(t)},getHTML:function(i){return e.bonzo(i).html()},setHTML:function(i,t){return e.bonzo(i).html(t)},setText:function(i,t){return e.bonzo(i).text(t)},getAttr:function(i,t){return e.bonzo(i).attr(t)},setAttr:function(i,t,a){return e.bonzo(i).attr(t,a)},focus:function(i){return e.bonzo(i).focus()},blur:function(i){return e.bonzo(i).blur()},show:function(i){return e.bonzo(i).show()},hide:function(i){return e.bonzo(i).hide()},append:function(i,t){return e.bonzo(i).append(t)},prepend:function(i,t){return e.bonzo(i).prepend(t)},css:function(i,t){return e.bonzo(i).css(t)},offset:function(i){return e.bonzo(i).offset()},parent:function(i){return e.bonzo(i).parent()}}}),define("plugins/musicfavourite/stats",["exports"],function(e){"use strict";e=e||{};var i="userAction",t="pf_action",a="pf_click",n=function(t,a,n){return function(o,r){e.log(i,t,e.getLabels(a,o,r,n))}},o={"toggled.toggledAdd":n(a,"add"),"toggled.toggledRemove":n(a,"remove"),"finished.cancelled.cancelledAdding":n(t,"cancelled","add"),"finished.cancelled.cancelledRemoving":n(t,"cancelled","remove"),"finished.failed.failedAdding":n(t,"fail","add"),"finished.failed.failedRemoving":n(t,"fail","remove"),"finished.added":n(t,"added"),"finished.removed":n(t,"removed"),"finished.limited":n(t,"limited","add")};return e._listeners=o,e.log=function(e,i,t,a){require(["istats-1"],function(n){"function"==typeof n.log&&n.log(e,i,t,a)})},e.logEvent=function(e,i,t){o[e]&&o[e](i,t)},e.logEvents=function(e){var i;if(e&&"function"==typeof e.subscribe)for(i in o)e.subscribe(i,o[i])},e.getLabels=function(e,i,t,a){var n={"p-noun":"musicfavourite","p-verb":e,"p-id":i.item.id,"p-type":i.item.type,"p-app":i.item.appId,"p-title":i.title,pf_variant:i.variant,pf_lang:i.lang};return i.aux&&"function"==typeof i.aux.toURN&&(n.pf_aux=i.aux.toURN()),t&&t instanceof Error&&(n["p-error"]=t.eventDescriptor||t.name||t),i.profile&&(n.pf_profile=i.profile),a&&(n.pf_intent=a),n},e}),define("plugins/musicfavourite/ui/button-controller",["../adapter/personalisation","../events","../stats","exports"],function(e,i,t,a){"use strict";a=function(e){var i=this;this.id=e.id,this.button=e,this.added=!1,i.subscribe("busy",function(){i.busy=!0}),i.subscribe("finished",function(){i.busy=!1}),i.subscribe("added",function(){i.added=!0}),i.subscribe("removed",function(){i.added=!1})},a.prototype.isAdded=function(){var i=this,t=e.isFavourited(i.button.item);return window.console&&window.console.warn("Favourites: isAdded is deprecated"),t!==i.added&&i.publish(t?"added":"removed",i.button),t},a.prototype.isAddedAsync=function(i){var t=this;e.isFavourited(t.button.item,function(e){e!==t.added&&t.publish(e?"added":"removed",t.button),i&&i(e)})},a.prototype.addFavourite=function(i){var t,a=this;return a.busy?void(i&&i(void 0)):(a.publish("busy.adding",a.button),void a.isAddedAsync(function(n){return n?(a.publish("finished",a.button),void(i&&i(!1))):(t=a.button.aux?[a.button.item,a.button.aux]:a.button.item,void e.add(t,function(t){t instanceof Error?t===e.errors.SignInCancelled?a.publish("finished.cancelled.cancelledAdding",a.button,t):t===e.errors.LimitReached?a.publish("finished.limited",a.button,t):a.publish("finished.failed.failedAdding",a.button,t):(a.publish("finished.added",a.button),a.publish("favAdded",a.button)),i&&i(t)}))}))},a.prototype.removeFavourite=function(i){var t=this;return t.busy?void(i&&i(void 0)):(t.publish("busy.removing",t.button),void t.isAddedAsync(function(a){return a?void e.remove(t.button.item,function(a){a instanceof Error?a===e.errors.SignInCancelled?t.publish("finished.cancelled.cancelledRemoving",t.button,a):t.publish("finished.failed.failedRemoving",t.button,a):(t.publish("finished.removed",t.button),t.publish("favRemoved",t.button)),i&&i(a)}):(t.publish("finished",t.button),void(i&&i(!1)))}))},a.prototype.toggleFavourite=function(){this.added?(this.publish("toggled.toggledRemove",this.button),this.removeFavourite()):(this.publish("toggled.toggledAdd",this.button),this.addFavourite())},a.prototype.isSignedIn=function(i){return e.isSignedIn(i)},i.context("button.controller",a);var n=a.prototype.publish;return a.prototype.publish=function(e){return t._listeners&&t._listeners[e]&&t.logEvent.apply(t,arguments),n.apply(this,arguments)},a}),define("plugins/musicfavourite/ui/localisation",["require"],function(e){return e.getLocalisedString=function(i,t,a,n,o){var r;return n&&i[n]||(n="en-gb"),r=i[n],a=a||"standard",t=t||"",o=void 0!==o?o:t,r&&r[a]&&r[a][t]?r[a][t]:"en-gb"!==n&&e.getLocalisedString(i,t,a,"en-gb")||o},e}),define("plugins/musicfavourite/ui/button-view",["plugins/musicfavourite/events","./dom","personalisation/dialog/dialog","plugins/musicfavourite/ui/localisation","plugins/musicfavourite/stats","exports"],function(e,i,t,a,n,o){"use strict";function r(e,i,t,a){var n;return a&&e[a]||(a="en-gb"),n=e[a],t=t||"standard",i=i||"",n[t]&&n[t][i]?n[t][i]:"en-gb"!==a&&r(i,t,"en-gb")||i}function s(e){return e=e[0]||e,e.offsetWidth>0&&e.offsetHeight>0?!1:!0}function d(e){var i,t={"&agrave;":"à","&aacute;":"á","&egrave;":"è","&eacute;":"é","&igrave;":"ì","&iacute;":"í","&ograve;":"ò","&oacute;":"ó","&ugrave;":"ù","&uacute;":"ú","&Agrave;":"À","&Aacute;":"Á","&Egrave;":"È","&Eacute;":"É","&Igrave;":"Ì","&Iacute;":"Í","&Ograve;":"Ò","&Oacute;":"Ó","&Ugrave;":"Ù","&Uacute;":"Ú"};for(i in t)e=e.replace(new RegExp(i,"gim"),t[i]);return e}function u(e,t){var a="input[name="+t+"]",n=i.findElement(a,e);return n.length?i.getAttr(n,"value"):void 0}function l(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape)}return o=function(e){var t=this;return t.item=e,t.item.localisationString=t.item.text.button,t.item.localisationStringDialog=t.item.text.dialog,t.item.localisationStringConfirmation=t.item.text.confirmation,t.item.button=i.findElement("."+o.classes.button,t.item.element),t.item.label=i.findElement("."+o.classes.label,t.item.button),t.item["label-display"]=i.findElement("."+o.classes["label-display"],t.item.button),t.item["label-text"]=i.findElement("."+o.classes["label-text"],t.item["label-display"]),t.item["label-action"]=i.findElement("."+o.classes["label-action"],t.item["label-display"]),t.confEl=null,t.confirmationTimer=null,t.removeConfirmationTimer=null,t.confirmationEventsBound=!1,t.bindEvents(),t.setVariantLabel(),t.item.controller.subscribe("added",function(){t.added()}),t.item.controller.subscribe("removed",function(){t.removed()}),t.item.controller.subscribe("busy",function(){t.busy()}),t.item.controller.subscribe("busy.adding",function(){t.busyAdding()}),t.item.controller.subscribe("busy.removing",function(){t.busyRemoving()}),t.item.controller.subscribe("finished",function(e){t.finished(e)}),t.item.controller.subscribe("finished.added",function(){t.added(),t.showAddedConfirmation()}),t.item.controller.subscribe("finished.removed",function(){t.removed()}),t.item.controller.subscribe("confirmation.dismissed",function(){t.confirmationDismissed(t.item.button)}),t.item.controller.subscribe("finished.limited",function(){t.failedAdding(!1)}),t.item.controller.subscribe("finished.cancelled.cancelledAdding",function(){t.failedAdding(!1)}),t.item.controller.subscribe("finished.failed",function(){t.failed()}),t.item.controller.subscribe("finished.failed.failedAdding",function(){t.failedAdding(!0)}),t.item.controller.subscribe("finished.failed.failedRemoving",function(){t.failedRemoving()}),null!==bbcRequireMap&&void 0!==bbcRequireMap&&bbcRequireMap.memodule!==!1&&void 0!==bbcRequireMap.memodule&&require(["memodule/main"],function(e){e.subscribe("finished",function(){t.item.controller.isAddedAsync()})}),t.removed(),t.item.controller.isAddedAsync(),t.setFakeButton(),{setLabel:function(e,i,a,n){t.setLabel(e,i,a,n)},setTitle:function(e){t.title(t.getLabelText(e))}}},o.prototype={setFakeButton:function(){var e=i.getAttr(this.item.button,"id")+"_fake",t=['<button id="',e,'" class="',o.classes.hidden,'" role="presentation" aria-hidden="true" style="width:1px;height:1px;" tabindex="-1">'].join("");i.append(this.item.element,t),this.item.fakeButton=i.findElement("#"+e)},setVariantLabel:function(){this.setLabel(this.item["label-text"],"addToFavourites",this.item.variant,!0)},busy:function(){i.addClass(this.item.button,o.classes.busy),i.setAttr(this.item.button,"aria-busy",!0)},busyAdding:function(){this.setLabel(this.item.label,"adding","standard",!1),this.setLabel(this.item["label-text"],"adding",this.item.variant,!0)},busyRemoving:function(){this.setLabel(this.item.label,"removing","standard",!1),this.setLabel(this.item["label-text"],"removing",this.item.variant,!0)},failed:function(){i.addClass(this.item.button,o.classes.error)},failedAdding:function(e){if(i.removeClass(this.item.button,o.classes.added),this.setLabel(this.item.label,"addToFavourites","standard",!1),this.setLabel(this.item["label-text"],"addToFavourites",this.item.variant,!0),e){if(this.item.item.typeReadable)var a=t.getLocalisedString("cannotAddFavouriteType",this.item.lang,{type:this.item.item.typeReadable});else var a=t.getLocalisedString("cannotAddFavourite",this.item.lang);var n=['<h3 class="',t.classes.heading,'">',a,"</h3>",'<p class="',t.classes.text,'">',t.getLocalisedString("tryAgain",this.item.lang),"</p>"].join("");t.setContent(n,function(){t.show()}),this.setProperTabIndexOnDialog()}},failedRemoving:function(){if(i.addClass(this.item.button,o.classes.added),this.setLabel(this.item.label,"addedToFavourites","standard",!1),this.setLabel(this.item["label-text"],"addedToFavourites",this.item.variant,!0),this.setLabel(this.item["label-action"],"removeFromFavourites",this.item.variant,!0),this.item.item.typeReadable)var e=t.getLocalisedString("cannotRemoveFavouriteType",this.item.lang,{type:this.item.item.typeReadable});else var e=t.getLocalisedString("cannotRemoveFavourite",this.item.lang);var a=['<h3 class="',t.classes.heading,'">',e,"</h3>",'<p class="',t.classes.text,'">',t.getLocalisedString("tryAgain",this.item.lang),"</p>"].join("");t.setContent(a,function(){t.show()}),this.setProperTabIndexOnDialog()},added:function(){i.removeClass(this.item.button,o.classes.removed),i.addClass(this.item.button,o.classes.added),this.setLabel(this.item.label,"addedToFavourites","standard",!1),this.setLabel(this.item["label-text"],"addedToFavourites",this.item.variant,!0),this.setLabel(this.item["label-action"],"removeFromFavourites",this.item.variant,!0),this.title(this.getLabelText("removeFromFavouritesFullText"))},removed:function(){i.addClass(this.item.button,o.classes.removed),i.removeClass(this.item.button,o.classes.added),i.removeClass(this.item.button,o.classes.error),this.setLabel(this.item.label,"addToFavourites","standard",!1),this.setLabel(this.item["label-text"],"addToFavourites",this.item.variant,!0),this.title(this.getLabelText("addToFavourites"))},finished:function(e){i.removeClass(this.item.button,o.classes.error),i.removeClass(this.item.button,o.classes.busy),i.setAttr(this.item.button,"aria-busy",!1),e===this.item&&this.isButtonVisible(this.item.button[0].id)},confirmationDismissed:function(e){i.focus(e)},title:function(e){i.setAttr(this.item.button,"title",d(e))},bind:function(e,t,a,n){i.off(a,e),i.on(a,e,function(e){t.apply(n,arguments)})},bindEvents:function(){var e,i=this,t={click:this.click,mouseenter:this.mouseEnter,mouseleave:this.mouseLeave,focus:this.focus,setFocus:this.setFocus,blur:this.blur,touchstart:this.touchstart,touchend:this.touchend,ontouchstart:this.ontouchstart};for(e in t)i.bind(e,t[e],i.item.button[0],i)},resetFocus:function(){var e=this;setTimeout(function(){s(e.item.fakeButton)?e.setFocus():i.focus(e.item.fakeButton),i.addClass(e.item.button,o.classes.refocus)},50)},focus:function(){var e=this;setTimeout(function(){i.addClass(e.item.button,o.classes.focus),i.setAttr(e.item.button,"aria-pressed",!0)},40)},setFocus:function(){var e=this,t=e.item.button;toFocusId=e.item.button[0].id,visible=e.isButtonVisible(toFocusId),visible&&setTimeout(function(){s(t)&&(t=e.item.fakeButton);try{i.focus(t)}catch(a){console&&console.log&&console.log("e",a)}},40)},blur:function(){i.hasClass(this.item.button,o.classes.refocus)&&(i.removeClass(this.item.button,o.classes.refocus),i.removeClass(this.item.button,o.classes.leave)),i.hasClass(this.item.button,o.classes.focus)&&i.removeClass(this.item.button,o.classes.focus),i.removeClass(this.item.button,o.classes.hover),i.setAttr(this.item.button,"aria-pressed",!1),s(this.item.button)||i.blur(this.item.button)},testTouch:function(){var e="ontouchstart"in window||navigator.msMaxTouchPoints;return e},click:function(e){e.preventDefault();var a,n,s,d,c,g,m,v,h,f,p=this,b=p.item.lang,y=p.item.useSigninOverlay,F=window.location.host;F=-1!==F.search("sandbox.dev")?"http://www.test.bbc.co.uk":"",n=function(e){var i=e.slice(-2);return e.replace(i,i.toUpperCase())},c=p.item.ptrt||u(p.item.element,"ptrt")||document.URL;var T=p.item.playlistType||u(p.item.element,"playlist-type"),x=p.item.contextType||u(p.item.element,"context-type"),A=p.item.contextId||u(p.item.element,"context-id"),w=p.item.platform||u(p.item.element,"platform");g="/modules/plugin/musicfavourite/my/favourites/signedin.html?params[item]="+l(p.item.id)+(T?"&params[playlist-type]="+T:"")+(x?"&params[context-type]="+x:"")+(A?"&params[context-id]="+A:"")+(w?"&params[platform]="+w:"")+(c?"&params[ptrt]="+c:"");var I=l(g);d=F+"/id/"+n(b)+"/register?ptrt="+I,s=F+"/id/"+n(b)+"/signin?ptrt="+I;var C={ptrt:F+g};p.item.controller.isSignedIn(C)?p.item.controller.toggleFavourite():(h=function(){return y?'target="_self"':'target="_blank"'},a=['<div class="',o.classes["pre-signin-wrapper"],'">','<div class="',o.classes["pre-signin-inner"],'">','<div class="pre-signin-content">','<span class="',o.classes["dialog-image"],'">',"</span>",'<h3 class="',o.classes["dialog-heading"],'">',r(this.item.localisationStringDialog,"heading","upsell",b),"</h3>",'<p class="',o.classes["dialog-text"],'">',r(this.item.localisationStringDialog,"text","upsell",b),"</p>",'<span class="',o.classes["dialog-signin"],'">','<p class="id4-cta">','<span class="id4-cta-size-large id4-cta-color-blue id4-cta-large-blue">','<a href="#" class="id4-cta-signin id4-cta-button" tabindex="3">',r(this.item.localisationStringDialog,"signIn","upsell",b),"</a>",'<span class="id4-cta-with">',r(this.item.localisationStringDialog,"signInText1","upsell",b),"</span>",'<span class="id4-cta-other-text">',r(this.item.localisationStringDialog,"signInText2","upsell",b)," ",'<a href="',d,'" class="id4-cta-register" tabindex="4"',h(),">",r(this.item.localisationStringDialog,"signInText3","upsell",b),"</a> ",'<span class="p-f-pre-signin-register-post-text">',r(this.item.localisationStringDialog,"signInText4","upsell",b),"</span></span>","</span>","</p>","</span>","</div>","</div>","</div>"].join(""),t.setContent(a,function(){p.setDialogWrapperProfile(),f=p.item.button[0].id,t.show(f);var e=i.findElement(".p-f-dialog-signin .id4-cta-signin")[0];e.setAttribute("href",s),require(["idcta/idcta-1"],function(i){i.bindSigninClickTo(e,{useOverlay:y})})}),this.setProperTabIndexOnDialog(),m=function(e){return e.preventDefault(),t.hide(function(){p.setSignedInChecker(F+g)}),y?window.open(s,"_self"):window.open(s,"_blank"),!1},v=function(e){t.hide(function(){p.setSignedInChecker(F+g)})},p.bind("click",v,i.findElement("."+o.classes["pre-signin-wrapper"]+" .id4-cta-register")[0],p),p.bind("click",m,i.findElement("."+o.classes["pre-signin-wrapper"]+" .id4-cta-button")[0],p))},setSignedInChecker:function(e){var i=this,t={ptrt:e},a=setInterval(function(){i.item.controller.isSignedIn(t)&&(i.item.controller.toggleFavourite(),clearInterval(a))},1e3)},signIn:function(){var e=this;t.hide(function(){e.item.controller.toggleFavourite()})},mouseEnter:function(){i.hasClass(this.item.button,o.classes.leave)&&i.removeClass(this.item.button,o.classes.leave),i.hasClass(this.item.button,o.classes.refocus)&&i.removeClass(this.item.button,o.classes.refocus),i.addClass(this.item.button,o.classes.hover)},mouseLeave:function(){i.hasClass(this.item.button,o.classes.hover)&&i.removeClass(this.item.button,o.classes.hover),i.addClass(this.item.button,o.classes.leave),i.blur(this.item.button)},touchstart:function(){},touchend:function(e){var t,a=this;i.addClass(this.item.button,o.classes.touchend),t=void 0!==typeof navigator&&"userAgent"in navigator?navigator.userAgent:"",-1===t.indexOf("Nexus 7")&&setTimeout(function(){a.click()},40)},getLabelHTML:function(e,i){return i="small"==i?"standard":i,e=r(this.item.localisationString,e,i,this.item.lang),/\{\{title\}\}/.test(e)&&(e=e.replace(/\{\{title\}\} /,'<span class="'+o.classes.hidden+'">"'+this.item.title.replace(/["']/g,"")+'"</span>')),e},getLabelText:function(e){return e=r(this.item.localisationString,e,"standard",this.item.lang),/\{\{title\}\}/.test(e)&&"function"==typeof this.item.title.replace&&(e=e.replace(/\{\{title\}\}/,'"'+this.item.title.replace(/["']/g,"").replace(/[\|][\|]/g,"-")+'"')),e},setLabel:function(e,t,a,n){n?i.setHTML(e,this.getLabelHTML(t,a)):i.setText(e,this.getLabelText(t))},addClasses:function(e){for(var t in e)i.addClass(this.item.button,e[t])},removeClasses:function(e){for(var t in e)i.removeClass(this.item.button,e[t])},setDialogWrapperProfile:function(){var e=i.findElement("."+o.classes["dialog-wrapper"]),t=i.getAttr(e,"data-profile");i.setAttr(e,"data-profile",o.classes["dialog-prefix"]+this.item.profile),t&&t!=i.getAttr(e,"data-profile")?(i.removeClass(e,t),i.addClass(e,i.getAttr(e,"data-profile"))):i.addClass(e,i.getAttr(e,"data-profile"))},isButtonVisible:function(e){var i=!1,t=document.getElementById(e);if(t&&null!=t&&void 0!=t&&void 0!=t.getBoundingClientRect)var a=t.getBoundingClientRect();return void 0===a||0==a.length?i:(a.top>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&(i=!0),i)},showAddedConfirmation:function(){this.confEl=i.findElement("."+o.classes.confirmation),this.linkEl=i.findElement("."+o.classes.confirmAddedLink),this.openLinkInNewWindow(this.confEl),this.confEl&&this.confEl.length>0&&("playlister"==this.item.profile||"track"==this.item.profile||enableConfirmation&&"string"==typeof confirmationUrl[this.item.profile])&&(this.confirmationEventsBound!==!1||"ontouchstart"in document.documentElement||(this.bind("mouseover",this.confirmationMouseEnter,this.confEl[0],this),this.bind("mouseout",this.confirmationMouseLeave,this.confEl[0],this),this.bind("click",this.recordConfirmationLinkClick,this.linkEl[0],this),this.confirmationEventsBound=!0),"ontouchstart"in document.documentElement&&i.addClass(this.confEl,"p-f-touch"),this.doAddedConfirmationTranslation(this.getAddedConfirmationTranslation(this.item.lang)),i.removeClass(this.confEl,"p-f-fade"),i.removeClass(this.confEl,"p-f-hide"),i.focus(this.confEl),this.fadeConfirmationMessage(this.confEl,4))},confirmationMouseEnter:function(){clearTimeout(window.pspFavouriteConfirmationTimer),clearTimeout(window.pspFavouriteRemoveConfirmationTimer),i.removeClass(this.confEl,"p-f-fade")},confirmationMouseLeave:function(){this.fadeConfirmationMessage(this.confEl,3)},fadeConfirmationMessage:function(e,t){var a=this;clearTimeout(window.pspFavouriteConfirmationTimer),window.pspFavouriteConfirmationTimer=setTimeout(function(){i.addClass(e,"p-f-fade"),a.confirmationDismissed(a.item.button)},2e3*t),clearTimeout(window.pspFavouriteRemoveConfirmationTimer),window.pspFavouriteRemoveConfirmationTimer=setTimeout(function(){i.addClass(e,"p-f-hide")},3e3+1e3*t)},setProperTabIndexOnDialog:function(){i.setAttr(i.findElement("."+o.classes.closeDialogButton),"tabindex","5")},getAddedConfirmationTranslation:function(e){var i=a.getLocalisedString(this.item.localisationStringConfirmation,"added","confirmation",e),t=a.getLocalisedString(this.item.localisationStringConfirmation,"link","confirmation",e),n=a.getLocalisedString(this.item.localisationStringConfirmation,"afterLink","confirmation",e);return{confirmAddedText:i,confirmAddedLink:t,confirmAddedAfterLink:n}},doAddedConfirmationTranslation:function(e){i.setText(i.findElement("."+o.classes.confirmAddedText),e.confirmAddedText),i.setText(i.findElement("."+o.classes.confirmAddedLink),e.confirmAddedLink),i.setText(i.findElement("."+o.classes.confirmAddedAfterLink),e.confirmAddedAfterLink)},recordConfirmationLinkClick:function(){return n.log("playlisterConfirmationDialogLink","click",{},function(){}),!1},openLinkInNewWindow:function(e){var t=i.getAttr(this.item.element,"data-openinnewwindow"),a=i.findElement("a",e);for(var n in a)"object"==typeof a[n]&&(t?i.setAttr(a[n],"target","_blank"):i.setAttr(a[n],"target","_self"))}},o.classes={button:"p-f-button",text:"p-f-text",label:"p-f-label","label-display":"p-f-label-display","label-text":"p-f-label-text","label-action":"p-f-label-action",hide:"p-f-hide",hidden:"p-f-hidden",verb:"p-f-verb",active:"p-f-active",focus:"p-f-focus",busy:"p-f-busy",hover:"p-f-hover",added:"p-f-added",removed:"p-f-removed","just-added":"p-f-just-added",error:"p-f-error",refocus:"p-f-refocus","upsell-wrapper":"p-f-upsell-wrapper","upsell-inner":"p-f-upsell-inner","dialog-heading":"p-f-dialog-heading","dialog-text":"p-f-dialog-text","dialog-image":"p-f-dialog-image","dialog-signin":"p-f-dialog-signin","pre-signin-wrapper":"pre-signin-wrapper","pre-signin-inner":"pre-signin-inner","dialog-wrapper":"p-f-dialog-wrapper","dialog-prefix":"p-f-dialog-",leave:"p-f-leave","no-blur":"p-f-noblur",touchstart:"p-f-touchs",touchend:"p-f-touche",closeDialogButton:"p-f-dialog-close",confirmAddedText:"p-f-added-text",confirmAddedLink:"p-f-added-link",confirmAddedAfterLink:"p-f-added-after-link",confirmation:"p-f-confirmation"},o}),define("plugins/musicfavourite/nls/default/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to Favourites",adding:"Adding",addedToFavourites:"{{title}} Added to Favourites",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from Favourites",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i Ffefrynnau",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i Ffefrynnau",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o Ffefrynnau",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le Cean&aacute;in",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le Cean&aacute;in",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; Cean&aacute;&iacute;n",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri Roghainnean",adding:"A' cur ris",addedToFavourites:"{{title}} Air a chur ri Roghainnean",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho Roghainnean",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ris",adding:"A' cur ris",addedToFavourites:"Air a chur ris",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/default/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"Your Playlist",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/default/dialog",{"en-gb":{upsell:{heading:"Sign in to add this to your Favourites",text:"Signing in lets you use your Favourites to keep track of the stuff you love on any device.",signIn:"Sign in",signInText1:" with your BBC iD",signInText2:"or",signInText3:"Register",signInText4:"It&rsquo;s fast and free."},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Mewngofnodi i ychwanegu hwn i&rsquo;ch ffefrynnau",text:"Mae mewngofnodi yn eich galluogi i ddefnyddio&rsquo;ch Ffefrynnau i gadw golwg ar y cynnwys rydych yn ei hoffi ar unrhyw ddyfais.",signIn:"Mewngofnodwch",signInText1:" gyda&rsqo;ch BBC iD",signInText2:"neu",signInText3:"Gofrestrwch",signInText4:"Mae&rsquo;n gyflym ac yn rhad."}},"ga-gb":{upsell:{heading:"S&iacute;nigh isteach chun &eacute; seo a chur le Mo Chean&aacute;in",text:"M&aacute; sh&iacute;neann t&uacute; isteach is f&eacute;idir leat Mo Chean&aacute;in a &uacute;s&aacute;id leis na ruda&iacute; is ansa leat a aimsi&uacute; ar ghl&eacute;as ar bith.",signIn:"S&iacute;nigh isteach",signInText1:" ag baint ús&aacute;ide as do BBC iD",signInText2:"n&oacute;",signInText3:"Cl&aacute;raigh",signInText4:"T&aacute; s&eacute; simpl&iacute; agus saor."}},"gd-gb":{upsell:{heading:"Log a-steach agus cuir seo ri do Roghainnean",text:"Log a-steach agus cleachd do Roghainnean gus smachd a chumail air an stuth as fheàrr leat, air inneal sam bith.",signIn:"Log a-steach",signInText1:" le BBC iD",signInText2:"no",signInText3:"Cl&agrave;raich",signInText4:"Tha e luath is saor &rsquo;s an asgaidh."}}}),define("plugins/musicfavourite/nls/default",["./default/button","./default/confirmation","./default/dialog"],function(e,i,t){
return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/standard/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to Favourites",adding:"Adding",addedToFavourites:"{{title}} Added to Favourites",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from Favourites",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i Ffefrynnau",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i Ffefrynnau",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o Ffefrynnau",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le Cean&aacute;in",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le Cean&aacute;in",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; Cean&aacute;&iacute;n",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri Roghainnean",adding:"A' cur ris",addedToFavourites:"{{title}} Air a chur ri Roghainnean",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho Roghainnean",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ris",adding:"A' cur ris",addedToFavourites:"Air a chur ris",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/standard/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"Your Favourites",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/standard/dialog",{"en-gb":{upsell:{heading:"Sign in to add this to your Favourites",text:"Signing in lets you use your Favourites to keep track of the stuff you love on any device.",signIn:"Sign in",signInText1:" with your BBC iD",signInText2:"or",signInText3:"Register",signInText4:"It&rsquo;s fast and free."},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Mewngofnodi i ychwanegu hwn i&rsquo;ch ffefrynnau",text:"Mae mewngofnodi yn eich galluogi i ddefnyddio&rsquo;ch Ffefrynnau i gadw golwg ar y cynnwys rydych yn ei hoffi ar unrhyw ddyfais.",signIn:"Mewngofnodwch",signInText1:" gyda&rsqo;ch BBC iD",signInText2:"neu",signInText3:"Gofrestrwch",signInText4:"Mae&rsquo;n gyflym ac yn rhad."}},"ga-gb":{upsell:{heading:"S&iacute;nigh isteach chun &eacute; seo a chur le Mo Chean&aacute;in",text:"M&aacute; sh&iacute;neann t&uacute; isteach is f&eacute;idir leat Mo Chean&aacute;in a &uacute;s&aacute;id leis na ruda&iacute; is ansa leat a aimsi&uacute; ar ghl&eacute;as ar bith.",signIn:"S&iacute;nigh isteach",signInText1:" ag baint ús&aacute;ide as do BBC iD",signInText2:"n&oacute;",signInText3:"Cl&aacute;raigh",signInText4:"T&aacute; s&eacute; simpl&iacute; agus saor."}},"gd-gb":{upsell:{heading:"Log a-steach agus cuir seo ri do Roghainnean",text:"Log a-steach agus cleachd do Roghainnean gus smachd a chumail air an stuth as fheàrr leat, air inneal sam bith.",signIn:"Log a-steach",signInText1:" le BBC iD",signInText2:"no",signInText3:"Cl&agrave;raich",signInText4:"Tha e luath is saor &rsquo;s an asgaidh."}}}),define("plugins/musicfavourite/nls/standard",["./standard/button","./standard/confirmation","./standard/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/eavis/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to Your Line Up",adding:"Adding",addedToFavourites:"{{title}} Added to Your Line Up",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from Your Line Up",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i Your Line Up",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd {{title}} i Your Line Up",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o Your Line Up",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cur {{title}} le Your Line Up",adding:"Ag cur",addedToFavourites:"{{title}} curtha le Your Line Up",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; Your Line Up",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri Your Line Up",adding:"A' cur ri",addedToFavourites:"{{title}} air a chur ri Your Line Up",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir {{title}} bho Your Line Up",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ri",adding:"A' cur ri",addedToFavourites:"Air a chur ri",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/eavis/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"Your Playlist",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/eavis/dialog",{"en-gb":{upsell:{heading:"Sign in to add this to Your Line Up",text:"Use Your Line Up to keep track of the acts you love.",signIn:"Sign in",signInText1:" with your BBC iD",signInText2:"or",signInText3:"Register",signInText4:"It&rsquo;s fast and free."},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Mewngofnodwch i ychwanegu hwn i Your Line Up",text:"Defnyddiwch Your Line Up i gadw golwg ar eich hoff artistiaid.",signIn:"Mewngofnodwch",signInText1:"gyda&rsqo;ch BBC iD",signInText2:"neu",signInText3:"Gofrestrwch",signInText4:"Mae&rsquo;n gyflym ac yn rhad."}},"ga-gb":{upsell:{heading:"S&iacute;nigh isteach le seo a chur le Your Line Up",text:"&Uacute;s&aacute;id Your Line Up le le s&uacute;il a choinne&aacute;il ar na banna&iacute; ceoil is ansa leat.",signIn:"S&iacute;nigh isteach",signInText1:" ag baint &uacute;s&aacute;ide as do BBC iD",signInText2:"n&oacute;",signInText3:"Cl&aacute;raigh",signInText4:"T&aacute; s&eacute; simpl&iacute; agus saor."}},"gd-gb":{upsell:{heading:"Log a-steach agus cuir seo ri Your Line Up",text:"Cleachd Your Line Up gus rian a chumail air an stuth as fhe&agrave;rr leat.",signIn:"Log a-steach",signInText1:" le BBC iD",signInText2:"no",signInText3:"Cl&agrave;raich",signInText4:"Tha e luath is saor agus an asgaidh."}}}),define("plugins/musicfavourite/nls/eavis",["./eavis/button","./eavis/confirmation","./eavis/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/iplayer/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to Favourites",adding:"Adding",addedToFavourites:"{{title}} Added to Favourites",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from Favourites",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i Ffefrynnau",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i Ffefrynnau",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o Ffefrynnau",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le Cean&aacute;in",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le Cean&aacute;in",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; Cean&aacute;&iacute;n",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Churha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri Roghainnean",adding:"A' cur ris",addedToFavourites:"{{title}} Air a chur ri Roghainnean",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho Roghainnean",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ris",adding:"A' cur ris",addedToFavourites:"Air a chur ris",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/iplayer/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"Your Playlist",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/iplayer/dialog",{"en-gb":{upsell:{heading:"Sign in to add this to your Favourites",text:"Signing in lets you use your Favourites to keep track of the stuff you love on any device.",signIn:"Sign in",signInText1:" with your BBC iD",signInText2:"or",signInText3:"Register",signInText4:"It&rsquo;s fast and free."},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Mewngofnodi i ychwanegu hwn i&rsquo;ch ffefrynnau",text:"Mae mewngofnodi yn eich galluogi i ddefnyddio&rsquo;ch Ffefrynnau i gadw golwg ar y cynnwys yr ydych yn ei garu ar unrhyw ddyfais.",signIn:"Mewngofnodwch",signInText1:" gyda&rsqo;ch BBC iD",signInText2:"neu",signInText3:"Gofrestrwch",signInText4:"Mae&rsquo;n gyflym ac yn rhad."}},"ga-gb":{upsell:{heading:"S&iacute;nigh isteach chun &eacute; seo a chur le Mo Chean&aacute;in",text:"M&aacute; sh&iacute;neann t&uacute; isteach is f&eacute;idir leat Mo Chean&aacute;in a &uacute;s&aacute;id leis na ruda&iacute; is ansa leat a aimsi&uacute; ar ghl&eacute;as ar bith.",signIn:"S&iacute;nigh isteach",signInText1:" ag baint ús&aacute;ide as do BBC iD",signInText2:"n&oacute;",signInText3:"Cl&aacute;raigh",signInText4:"T&aacute; s&eacute; simpl&iacute; agus saor."}},"gd-gb":{upsell:{heading:"Log a-steach agus cuir seo ri do Roghainnean",text:"Log a-steach agus cleachd do Roghainnean gus smachd a chumail air an stuth as fheàrr leat, air inneal sam bith.",signIn:"Log a-steach",signInText1:" le BBC iD",signInText2:"no",signInText3:"Cl&agrave;raich",signInText4:"Tha e luath is saor &rsquo;s an asgaidh."}}}),define("plugins/musicfavourite/nls/iplayer",["./iplayer/button","./iplayer/confirmation","./iplayer/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/music_guide/button",{"en-gb":{standard:{addToFavourites:"Follow this playlist",adding:"Following this playlist",addedToFavourites:"Following this playlist",removeFromFavourites:"Unfollow this playlist",removeFromFavouritesFullText:"Unfollow this playlist",removing:"Unfollowing this playlist"},medium:{addToFavourites:"Follow",adding:"Following",addedToFavourites:"Following",removeFromFavourites:"Unfollow",removing:"Unfollowing"}},"cy-gb":{standard:{addToFavourites:"Dilyn y rhestr chwarae",adding:"{{title}} Yn dilyn y rhestr chwarae",addedToFavourites:"{{title}} Yn dilyn y rhestr chwarae",removeFromFavourites:"Peidio dilyn",removeFromFavouritesFullText:"Peidio &acirc; dilyn y rhestr chwarae",removing:"Peidio dilyn"},medium:{addToFavourites:"Dilyn",adding:"Yn dilyn",addedToFavourites:"Yn dilyn",removeFromFavourites:"Peidio dilyn",removing:"Peidio dilyn"}},"ga-gb":{standard:{addToFavourites:"Lean an seinnliosta seo",adding:"{{title}} An seinnliosta seo leanta",addedToFavourites:"{{title}} An seinnliosta seo leanta",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Stop de bheith ag lean&uacute;int",removing:"Ag baint"},medium:{addToFavourites:"Lean",adding:"Ag lean&uacute;int",addedToFavourites:"Ag lean&uacute;int",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Lean an cl&agrave;r-ci&ugrave;il",adding:"{{title}} Lean mi an cl&agrave;r-ci&ugrave;il seo",addedToFavourites:"{{title}} Lean mi an cl&agrave;r-ci&ugrave;il seo",removeFromFavourites:"Dubh &agrave;s",removeFromFavouritesFullText:"Dubh &agrave;s an cl&agrave;r-ci&ugrave;il seo",removing:"A' dubhadh &agrave;s"},medium:{addToFavourites:"Lean",adding:"A' leantainn",addedToFavourites:"A' leantainn",removeFromFavourites:"Dubh &agrave;s",removing:"A' dubhadh &agrave;s"}}}),define("plugins/musicfavourite/nls/music_guide/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"Your Playlist",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/music_guide/dialog",{"en-gb":{upsell:{heading:"Sign in to follow presenter playlists",text:"What are your favourite presenters really listening to? <br /> See what tracks they&#39;re adding by following their personal playlists.",signIn:"Sign in",signInText1:" with your BBC iD",signInText2:"or",signInText3:"Register",signInText4:"It&rsquo;s fast and free."},limited:{heading:"Sorry, you’ve reached the limit",manageLink:"Manage your presenter playlists",limitHint:"(you can follow up to 12)"}},"cy-gb":{upsell:{heading:"Mewngofnodi i ddilyn rhestrau chwarae cyflwynwyr",text:"Beth yw dewis cerddorol eich hoff gyflwynwyr? Gallwch weld pa draciau maen nhw&#x2019;n eu hychwanegu drwy ddilyn eu rhestrau chwarae personol.",signIn:"Mewngofnodwch",signInText1:" gyda&rsqo;ch BBC iD",signInText2:"neu",signInText3:"Gofrestrwch",signInText4:"Mae&rsquo;n gyflym ac yn rhad."}},"ga-gb":{upsell:{heading:"S&iacute;nigh isteach le seinnliosta&iacute; l&aacute;ithreoir&iacute; a lean&uacute;int",text:"Cad leis a bhfuil na l&aacute;ithreoir&iacute; is rogha leat ag &eacute;isteacht, i nd&aacute;ir&iacute;re? F&eacute;ach na traiceanna at&aacute; siad ag cur isteach, tr&iacute;na seinnliosta&iacute; pearsanta a lean&uacute;int.",signIn:"S&iacute;nigh isteach",signInText1:" ag baint &uacute;s&aacute;ide as do BBC iD",signInText2:"n&oacute;",signInText3:"Cl&aacute;raigh",signInText4:"T&aacute; s&eacute; simpl&iacute; agus saor."}},"gd-gb":{upsell:{heading:"Log a-steach is lean cl&agrave;ran-ci&ugrave;il nam preasantairean",text:"Co ris tha na preasantairean as fhe&agrave;rr leat ag &egrave;isteachd? Lean na cl&agrave;ran-ci&ugrave;il aca is faic d&egrave; na p&igrave;osan ci&ugrave;il a tha a' nochdadh.",signIn:"Log a-steach",signInText1:" le BBC iD",signInText2:"no",signInText3:"Cl&agrave;raich",signInText4:"Tha e luath is saor agus an asgaidh."}}}),define("plugins/musicfavourite/nls/music_guide",["./music_guide/button","./music_guide/confirmation","./music_guide/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/playlister/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to My Tracks",adding:"Adding",addedToFavourites:"{{title}} Added to My Tracks",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from My Tracks",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i My Tracks",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i My Tracks",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o My Tracks",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le My Tracks",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le My Tracks",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; My Tracks",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri My Tracks",adding:"A' cur ri",addedToFavourites:"{{title}} air a chur ri My Tracks",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho My Tracks",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ri",adding:"A' cur ri",addedToFavourites:"Air a chur ri",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/playlister/confirmation",{"en-gb":{confirmation:{added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}},"cy-gb":{confirmation:{added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}},"ga-gb":{confirmation:{added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}},"gd-gb":{confirmation:{added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}}}),define("plugins/musicfavourite/nls/playlister/dialog",{"en-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}},"ga-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}},"gd-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}}}),define("plugins/musicfavourite/nls/playlister",["./playlister/button","./playlister/confirmation","./playlister/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/audiovideo/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to My Audio & Video",adding:"Adding",addedToFavourites:"{{title}} Added to My Audio & Video",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from My Audio & Video",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i My Audio & Video",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i My Audio & Video",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o My Audio & Video",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le My Audio & Video",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le My Audio & Video",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; My Audio & Video",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri My Audio & Video",adding:"A' cur ri",addedToFavourites:"{{title}} air a chur ri My Audio & Video",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho My Audio & Video",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ri",adding:"A' cur ri",addedToFavourites:"Air a chur ri",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/audiovideo/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"My Audio & Video",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. Ewch i'ch ",link:"My Audio & Video",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"My Audio & Video",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"My Audio & Video",afterLink:"."}}}),define("plugins/musicfavourite/nls/audiovideo/dialog",{"en-gb":{upsell:{heading:"Add this clip for later",text:"Add this clip to enjoy later. And get better music recommendations based on what you add.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this clip"},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Add this clip for later",text:"Add this clip to enjoy later. And get better music recommendations based on what you add.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this clip"},limited:{heading:"Sorry, you’ve reached the limit"}},"ga-gb":{upsell:{heading:"Add this clip for later",text:"Add this clip to enjoy later. And get better music recommendations based on what you add.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this clip"},limited:{heading:"Sorry, you’ve reached the limit"}},"gd-gb":{upsell:{heading:"Add this clip for later",text:"Add this clip to enjoy later. And get better music recommendations based on what you add.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this clip"},limited:{heading:"Sorry, you’ve reached the limit"}}}),define("plugins/musicfavourite/nls/audiovideo",["./audiovideo/button","./audiovideo/confirmation","./audiovideo/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/playlist/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to My Playlists",adding:"Adding",addedToFavourites:"{{title}} Added to My Playlists",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from My Playlists",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i My Playlists",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i My Playlists",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o My Playlists",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le My Playlists",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le My Playlists",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; My Playlists",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri My Playlists",adding:"A' cur ri",addedToFavourites:"{{title}} air a chur ri My Playlists",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho My Playlists",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ri",adding:"A' cur ri",addedToFavourites:"Air a chur ri",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/playlist/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"My Playlists",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/playlist/dialog",{"en-gb":{upsell:{heading:"Discover more music by adding playlists",text:"Add this playlist to get better recommendations and keep up-to-date with music you&#39;ll love.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this playlist"},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Discover more music by adding playlists",text:"Add this playlist to get better recommendations and keep up-to-date with music you&#39;ll love.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this playlist"},limited:{heading:"Sorry, you’ve reached the limit"}},"ga-gb":{upsell:{heading:"Discover more music by adding playlists",text:"Add this playlist to get better recommendations and keep up-to-date with music you&#39;ll love.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this playlist"},limited:{heading:"Sorry, you’ve reached the limit"}},"gd-gb":{upsell:{heading:"Discover more music by adding playlists",text:"Add this playlist to get better recommendations and keep up-to-date with music you&#39;ll love.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this playlist"},limited:{heading:"Sorry, you’ve reached the limit"}}}),define("plugins/musicfavourite/nls/playlist",["./playlist/button","./playlist/confirmation","./playlist/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/artist/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to My Artists",adding:"Adding",addedToFavourites:"{{title}} Added to My Artists",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from My Artists",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i My Artists",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i My Artists",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o My Artists",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le My Artists",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le My Artists",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; My Artists",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri My Artists",adding:"A' cur ri",addedToFavourites:"{{title}} air a chur ri My Artists",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho My Artists",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ri",adding:"A' cur ri",addedToFavourites:"Air a chur ri",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/artist/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"My Artists",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/artist/dialog",{"en-gb":{upsell:{heading:"Keep up with your favourite artists",text:"Add this artist to get updates when they do something new and recommendations for similar music.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this artist"},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Keep up with your favourite artists",text:"Add this artist to get updates when they do something new and recommendations for similar music.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this artist"},limited:{heading:"Sorry, you’ve reached the limit"}},"ga-gb":{upsell:{heading:"Keep up with your favourite artists",text:"Add this artist to get updates when they do something new and recommendations for similar music.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this artist"},limited:{heading:"Sorry, you’ve reached the limit"}},"gd-gb":{upsell:{heading:"Keep up with your favourite artists",text:"Add this artist to get updates when they do something new and recommendations for similar music.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this artist"},limited:{heading:"Sorry, you’ve reached the limit"}}}),define("plugins/musicfavourite/nls/artist",["./artist/button","./artist/confirmation","./artist/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/track/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to My Tracks",adding:"Adding",addedToFavourites:"{{title}} Added to My Tracks",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from My Tracks",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i My Tracks",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i My Tracks",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o My Tracks",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le My Tracks",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le My Tracks",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; My Tracks",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri My Tracks",adding:"A' cur ri",addedToFavourites:"{{title}} air a chur ri My Tracks",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho My Tracks",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ri",adding:"A' cur ri",addedToFavourites:"Air a chur ri",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/track/confirmation",{"en-gb":{confirmation:{added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}},"cy-gb":{confirmation:{added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}},"ga-gb":{confirmation:{
added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}},"gd-gb":{confirmation:{added:"Added, go to",link:"My Tracks",afterLink:"to see full list."}}}),define("plugins/musicfavourite/nls/track/dialog",{"en-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}},"ga-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}},"gd-gb":{upsell:{heading:"Add this track for later",text:"You&#39;ll get better music recommendations based on what you add. And you can listen in full on Deezer, Spotify or YouTube.",signIn:"Sign in",signInText1:" ",signInText2:"or",signInText3:"Register",signInText4:"to add this track"},limited:{heading:"Sorry, you’ve reached the limit"}}}),define("plugins/musicfavourite/nls/track",["./track/button","./track/confirmation","./track/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/radio/button",{"en-gb":{standard:{addToFavourites:"Add {{title}} to Favourites",adding:"Adding",addedToFavourites:"{{title}} Added to Favourites",removeFromFavourites:"Remove",removeFromFavouritesFullText:"Remove {{title}} from Favourites",removing:"Removing"},medium:{addToFavourites:"Add",adding:"Adding",addedToFavourites:"Added",removeFromFavourites:"Remove",removing:"Removing"}},"cy-gb":{standard:{addToFavourites:"Ychwanegu {{title}} i Ffefrynnau",adding:"Ychwanegu",addedToFavourites:"{{title}} Ychwanegwyd i Ffefrynnau",removeFromFavourites:"Dileu",removeFromFavouritesFullText:"Dileu {{title}} o Ffefrynnau",removing:"Yn dileu"},medium:{addToFavourites:"Ychwanegu",adding:"Ychwanegu",addedToFavourites:"Ychwanegwyd",removeFromFavourites:"Dileu",removing:"Yn dileu"}},"ga-gb":{standard:{addToFavourites:"Cuir {{title}} le Cean&aacute;in",adding:"Ag cur",addedToFavourites:"{{title}} Curtha le Cean&aacute;in",removeFromFavourites:"Bain",removeFromFavouritesFullText:"Bain {{title}} &oacute; Cean&aacute;&iacute;n",removing:"Ag baint"},medium:{addToFavourites:"Cuir",adding:"Ag cur",addedToFavourites:"Curtha",removeFromFavourites:"Bain",removing:"Ag baint"}},"gd-gb":{standard:{addToFavourites:"Cuir {{title}} ri Roghainnean",adding:"A' cur ris",addedToFavourites:"{{title}} Air a chur ri Roghainnean",removeFromFavourites:"Thoir &agrave;s",removeFromFavouritesFullText:"Thoir &agrave;s {{title}} bho Roghainnean",removing:"A' toirt &agrave;s"},medium:{addToFavourites:"Cuir ris",adding:"A' cur ris",addedToFavourites:"Air a chur ris",removeFromFavourites:"Thoir &agrave;s",removing:"A' toirt &agrave;s"}}}),define("plugins/musicfavourite/nls/radio/confirmation",{"en-gb":{confirmation:{added:"Added. Check out ",link:"Your Favourites",afterLink:"."}},"cy-gb":{confirmation:{added:"Ychwanegwyd. ",link:"Ewch i'ch Rhestr Chwarae",afterLink:"."}},"ga-gb":{confirmation:{added:"Curtha leis. Amharc ar ",link:"Do Sheinnliosta",afterLink:"."}},"gd-gb":{confirmation:{added:"Air a chur ris. Seall ri ",link:"do chlàr-ciùil",afterLink:"."}}}),define("plugins/musicfavourite/nls/radio/dialog",{"en-gb":{upsell:{heading:"Sign in to add this to your Favourites",text:"Signing in lets you use your Favourites to keep track of the stuff you love on any device.",signIn:"Sign in",signInText1:" with your BBC iD",signInText2:"or",signInText3:"Register",signInText4:"It&rsquo;s fast and free."},limited:{heading:"Sorry, you’ve reached the limit"}},"cy-gb":{upsell:{heading:"Mewngofnodi i ychwanegu hwn i&rsquo;ch ffefrynnau",text:"Mae mewngofnodi yn eich galluogi i ddefnyddio&rsquo;ch Ffefrynnau i gadw golwg ar y cynnwys rydych yn ei hoffi ar unrhyw ddyfais.",signIn:"Mewngofnodwch",signInText1:" gyda&rsqo;ch BBC iD",signInText2:"neu",signInText3:"Gofrestrwch",signInText4:"Mae&rsquo;n gyflym ac yn rhad."}},"ga-gb":{upsell:{heading:"S&iacute;nigh isteach chun &eacute; seo a chur le Mo Chean&aacute;in",text:"M&aacute; sh&iacute;neann t&uacute; isteach is f&eacute;idir leat Mo Chean&aacute;in a &uacute;s&aacute;id leis na ruda&iacute; is ansa leat a aimsi&uacute; ar ghl&eacute;as ar bith.",signIn:"S&iacute;nigh isteach",signInText1:" ag baint ús&aacute;ide as do BBC iD",signInText2:"n&oacute;",signInText3:"Cl&aacute;raigh",signInText4:"T&aacute; s&eacute; simpl&iacute; agus saor."}},"gd-gb":{upsell:{heading:"Log a-steach agus cuir seo ri do Roghainnean",text:"Log a-steach agus cleachd do Roghainnean gus smachd a chumail air an stuth as fheàrr leat, air inneal sam bith.",signIn:"Log a-steach",signInText1:" le BBC iD",signInText2:"no",signInText3:"Cl&agrave;raich",signInText4:"Tha e luath is saor &rsquo;s an asgaidh."}}}),define("plugins/musicfavourite/nls/radio",["./radio/button","./radio/confirmation","./radio/dialog"],function(e,i,t){return{button:e,confirmation:i,dialog:t}}),define("plugins/musicfavourite/nls/text",["exports","./default","./standard","./eavis","./iplayer","./music_guide","./playlister","./audiovideo","./playlist","./artist","./track","./radio"],function(e,i,t,a,n,o,r,s,d,u,l,c){"use strict";return e=e||{},e.text=function(e,g){e=e||"default";var m={"default":i,standard:t,eavis:a,iplayer:n,music_guide:o,playlister:r,audiovideo:s,playlist:d,artist:u,track:l,radio:c},v={};v.button=m[e].button,v.dialog=m[e].dialog,v.confirmation=m[e].confirmation,g(v)},e}),define("plugins/musicfavourite/ui/button",["../adapter/personalisation","../events","./dom","./button-controller","./button-view","../nls/text","exports"],function(e,i,t,a,n,o,r){"use strict";var s=function(i){var a,n;return"string"==typeof i?a=t.findElement(i):"object"==typeof i&&(1==i.nodeType?a=i:i[0]&&i[0].nodeType&&1==i[0].nodeType?a=i[0]:n=i),a&&(n=t.parseData(a),n.element=a),n=n||{},n.lang=d(n.lang),n.item=e.parseItem("string"==typeof i.item?i.item:n),n.aux&&(n.aux=e.parseItem(n.aux,n.item.appid)),n},d=function(e){e="string"==typeof e&&e.toLowerCase()||"en-gb";var i={en:"en-gb",cy:"cy-gb",ga:"ga-gb",gd:"gd-gb","en-gb":"en-gb","cy-gb":"cy-gb","ga-gb":"ga-gb","gd-gb":"gd-gb"};return i[e]||"en-gb"},u=["item","title","label","lang","variant","element","aux","parent","profile","useSigninOverlay","ptrt"];return r=function(e){var i,t,r=s(e),d=this;for(t=0;i=u[t];t++)void 0!==r[i]&&(this[i]=r[i]);this.id=this.item.toURN().replace(/[!'()*]/g,escape),this.title=this.item.title||this.item.id,this.variant=this.item.variant||"standard",this.lang=this.item.lang,this.profile=this.profile||"default",this.useSigninOverlay="0"==this.item.useSigninOverlay?!1:!0,o.text(this.profile,function(e){d.text=e,d.controller=new a(d),d.view=new n(d)})},i.context("button",r),r.createFromSelector=function(e){e=e||".p-f";var i,a,n,o=[],s=t.findElement(e);for(n=0;a=s[n];n++)if(!a._bbcpfo)try{i=new r(a),o.push(i),a._bbcpfo=i}catch(d){window.console&&window.console.error(d,"Could not create Favourite button")}return o},r.refresh=function(){},r}),define("plugins/musicfavourite/ui/dialogs/limited-dialog",["personalisation/dialog/dialog","../localisation","../dom","exports"],function(e,i,t,a){var n="limited",o={radio:{music_guide:"/music/playlister/presenters#plr-presenterslist",music_guide_trunk:"/music/playlister/presenters?v=trunk#plr-presenterslist"}};return a.initialise=function(e){e.subscribe(n,function(e){a.show(e.text.dialog,e.lang,e.item)})},a.show=function(t,a,n){function r(e){return i.getLocalisedString(t,e,"limited",a,"")}var s='<h3 class="'+e.classes.heading+'">'+r("heading")+"</h3>",d=r("limitHint"),u=r("manageLink");manageLink=n&&n.appId&&n.type&&o[n.appId]&&o[n.appId][n.type],-1!==window.location.href.indexOf("v=trunk")&&(manageLink=n&&n.appId&&n.type&&o[n.appId]&&o[n.appId][n.type+"_trunk"]),manageLink&&u&&(s+='<p class="'+e.classes.text+'"><a href="'+manageLink+'" class="'+e.classes.manageLink+'">'+u+"</a> "+d+"</p>"),e.setContent(s,function(){e.show()})},a}),define("plugins/musicfavourite/ui/dialogs",["./dialogs/limited-dialog","exports"],function(e,i){return i.initialise=function(i){e.initialise(i)},i}),define("plugins/musicfavourite/env",["exports","module"],function(e,i){"use strict";var t="/modules/plugin/musicfavourite",a="^([^:]+://[^/]+)("+t+"/[^/]+)";return e=e||{},e._moduleURI=i&&i.uri||"",e.resolveStaticURL=function(i){if("string"!=typeof i)return void 0;var t,n=new RegExp(a);return n.test(e._moduleURI)&&(t=n.exec(e._moduleURI))?t[1]+("/"==i.charAt(0)?"":t[2]+"/")+i:void 0},e}),define("plugins/musicfavourite",["./musicfavourite/ui/button","./musicfavourite/ui/dialogs","./musicfavourite/events","./musicfavourite/ui/dom","./musicfavourite/env","exports"],function(e,i,t,a,n,o){"use strict";function r(i){var t=e.createFromSelector(i);return o.all=o.all?o.all.concat(t):t,t}function s(){var e=a.findElement(".p-f-conf-dismiss");"undefined"!=typeof e&&e&&e.length>0&&a.on(e[0],"click",function(e){e.preventDefault(),e.stopPropagation(),o.publish("confirmation.dismissed"),a.addClass(a.findElement(".p-f-confirmation"),"p-f-dismissed"),setTimeout(function(){a.addClass(a.findElement(".p-f-confirmation"),"p-f-hide"),a.removeClass(a.findElement(".p-f-confirmation"),"p-f-dismissed")},500)})}o=o||{},t.context("button",o),o.Button=e,o.initialise=function(){return s(),o.publish("initialise"),o.publish("initialised",r()),o.all},o.refresh=function(){o.publish("refresh");var e=r();return o.publish("refreshed",e),e};var d=0;return o.render=function(e,i){e=a.findElement(e).length?a.findElement(e):a.findElement("body"),i=i||{},d++;var t,r,s,u="j"+d,l={},c="profiles/default/",g=["id","title","appid","type","aux","variant","lang","font-size","profile","ptrt","use-signin-overlay","openInNewWindow"];for(s=0;r=g[s];s++)void 0!==i[r]&&(l[r]=i[r]);l.profile&&""!==l.profile&&(c="profiles/"+l.profile+"/");var m=['<span class="p-f" id="pmfs',u,'">','<span class="p-form">','<button id="pf',u,'" type="submit" class="p-f-button" aria-labelledby="pfl',u,'" aria-live="polite" aria-pressed="false">','<span class="p-f-icon">','<img src="',n.resolveStaticURL(c+"img/sprite.png"),'" class="p-f-icon-sprite" width="128" height="384" alt="">','<img src="',n.resolveStaticURL(c+"img/spinner.gif"),'" class="p-f-icon-spinner" width="128" height="128" alt="">',"</span>",'<span class="p-f-gelicon">','<i aria-hidden="true" class="p-f-gelicon-add gelicon gelicon--add"></i>','<i aria-hidden="true" class="p-f-gelicon-added gelicon gelicon--yes"></i>','<i aria-hidden="true" class="p-f-gelicon-remove gelicon gelicon--no"></i>','<i aria-hidden="true" class="p-f-gelicon-spinner gelicon gelicon--load"></i>',"</span>",'<span id="pfl',u,'" class="p-f-label p-f-hidden" tabindex="-1">',"</span>",'<span class="p-f-label-display p-f-show" role="presentation" aria-hidden="true">','<span class="p-f-label-text">',"</span>",'<span class="p-f-label-action">',"</span>","</span>","</button>","</span>","</span>"].join("");a.append(e,m),t=a.findElement("#pmfs"+u).length?a.findElement("#pmfs"+u):document.getElementById("pmfs"+u),l.id&&a.setAttr(t,"data-id",l.id),l.type&&a.setAttr(t,"data-type",l.type),l.title&&a.setAttr(t,"data-title",l.title),l.appid&&a.setAttr(t,"data-appid",l.appid),l.aux&&a.setAttr(t,"data-aux",l.aux),l.ptrt&&a.setAttr(t,"data-ptrt",l.ptrt),l.product&&a.setAttr(t,"data-product",l.product),l.platform&&a.setAttr(t,"data-platform",l.platform),l.contextType&&a.setAttr(t,"data-context-type",l.contextType),l.contextId&&a.setAttr(t,"data-context-id",l.contextId),void 0!==l["use-signin-overlay"]&&a.setAttr(t,"data-use-signin-overlay",l["use-signin-overlay"]),l.variant&&(a.setAttr(t,"data-variant",l.variant),a.addClass(t,"p-f-variant-"+l.variant)),l.profile&&(a.setAttr(t,"data-profile",l.profile),a.addClass(t,"p-f-p_"+l.profile)),l.lang&&(a.setAttr(t,"data-lang",l.lang),a.addClass(t,"p-f-lang-"+l.lang.toLowerCase())),l.openInNewWindow&&a.setAttr(t,"data-openinnewwindow","1"),l["font-size"]&&a.css(t,{"font-size":l["font-size"]}),o.initialise()},i.initialise(o),o});
//# sourceMappingURL=musicfavourite.js.map